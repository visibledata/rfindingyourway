---
title: 'tidyr 1.0: gather() and spread() are dead'
author: Charlie Joey Hadley
date: '2019-09-18'
slug: tidyr-1-0-and-rstats-instructors
categories:
  - packages
  - trainers
tags:
  - tidyr
banner: "img/blog-images/header-images/tidyr-1_update-training-poll.png"
twitterImg: "img/blog-images/header-images/tidyr-1_update-training-poll.png"
---



<p><code>{tidyr}</code> version 1.0 has just been released on CRAN in September 2019, 5 years after itâ€™s conception in Hadley Wickhamâ€™s seminal <a href="http://doi.org/10.18637/jss.v059.i10">Tidy Data paper</a>. While <code>{tidyr}</code> might not get as much love as <code>{dplyr}</code> and Hadleyâ€™s other packages, itâ€™s the cornerstone of the <em>tidyverse</em> and this new version of the package radically changes things.</p>
All users of the <em>tidyverse</em> should hear these two proclamations:
<hr>
<div class="row">
<div class="col-xs-6">
<div class="card">
<p><strong><code>gather()</code> is dead.</strong></p>
<p><strong>Long live <code>pivot_longer()</code>.</strong></p>
</div>
</div>
<div class="col-xs-6">
<div class="card">
<p><strong><code>spread()</code> is dead.</strong></p>
<p><strong>Long live <code>pivot_wider()</code>.</strong></p>
</div>
</div>
</div>
<hr>
<p>Thereâ€™s a new <a href="https://tidyr.tidyverse.org/articles/pivot.html"><code>{tidyr}</code> vignette</a> about these â€œpivotingâ€ functions which explains very simply why these old functions have been retired and replacements created:</p>
<blockquote>
<p>there is something fundamentally wrong with the design of spread() and gather(). Many people donâ€™t find the names intuitive and find it hard to remember which direction corresponds to spreading and which to gathering. [â€¦] meaning that many people (including [Hadley Wickham]) have to consult the documentation every time.</p>
</blockquote>
<p>Iâ€™m extremely happy about these changes, the new functions are tremendously flexible and nicely named.</p>
<p>But, I also have the following concerns:</p>
<ul>
<li><p><strong>It will take several years before these new functions permeate StackOverflow, blogs and the wider useR community.</strong><br>
Self-taught users (like myself) are more likely to copy and paste from StackOverflow than from the docs. These users will likely completely miss out on the new functions and feel frustrated in the future at having learned out-dated practices.</p></li>
<li><p><strong><code>gather()</code> and <code>spread()</code> arenâ€™t actually dead, theyâ€™ve just been retired.</strong><br>
I started learning R in May 2015 and had a thoroughly bastardised workflow involving <code>{plyr}</code>, <code>{dplyr}</code> and <code>subset()</code> because (seemingly) most folks didnâ€™t realise that <code>{dplyr}</code> was a replacement for <code>{plyr}</code>. Iâ€™m confident that weâ€™ll see Frankensteinian combinations of the old and new functions.</p></li>
<li><p><strong>What do we do with our existing training materials?</strong><br>
Should we update all our old training courses or trust users to find the documentation/vignette eventually?</p></li>
</ul>
<p>To help decide how to approach updating our own courses, I put together the following Twitter poll (which received 196 votes!):</p>
<center>
<blockquote class="twitter-tweet" data-conversation="none">
<p lang="en" dir="ltr">
If youâ€™re an <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> instructor, when do you intend to update your courses as follows?<br><br>gather() -&gt; pivot_long()<br>spread() -&gt; pivot_wide()
</p>
&amp;mdashCharlie Joeyhn Hadley (they/them) charliejhadleyey) <a href="https://twitter.cocharliejhadleyey/status/1172773969528799237?ref_src=twsrc%5Etfw">September 14, 2019</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
<p>I was quite shocked that just under 50% of respondents were planning to update their training courses immediately, and discouraged that my initial choice - waiting until January 2020 - was the least popular response. However, if the community does move quickly to update their content then the concerns I raised above will have much less of an impact than I feared.</p>
<div id="course-update-strategy" class="section level3">
<h3>Course update strategy</h3>
<p>In response to this survey data and conversations with other trainers, here are my plans for updating training materials:</p>
<ul>
<li><strong>Wait until January 2020 before making significant changes.</strong><br>
While I think the new functions are designed well, thereâ€™s precedence for functionality to change significantly after community use. When <code>{tidyeval}</code> first landed I held off on making dedicated training materials because I hadnâ€™t completely got my head around quasiquotation. Thankfully, the new <code>{{ }}</code> operator was introduced earlier this year and finally it all makes sense to me. Hadley Wickham recognises that <code>{tidyeval}</code> was pushed too early, I want to avoid teaching my students functionality before it has stabilised.</li>
</ul>
<center>
<blockquote class="twitter-tweet" data-conversation="none">
<p lang="en" dir="ltr">
The greatest tidyverse mistakes:<br>ğŸ’¥ no pipe in ggplot2<br>ğŸ’¥ overwriting filter and lag<br>ğŸ’¥ using the . in arg names<br>ğŸ’¥ tidyeval pushed too early<br>ğŸ’¥ tidyverse as a name made some people think it's meant to be used in isolation - nah, use it with whatever in <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> is useful for you!
</p>
â€” Hannah Frick (<span class="citation">@hfcfrick</span>) <a href="https://twitter.com/hfcfrick/status/1163519190067793928?ref_src=twsrc%5Etfw">August 19, 2019</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
<ul>
<li><p><strong>Explicitly show students the docs pages whenever <code>gather()</code> and <code>spread()</code> are used</strong>.<br>
I will not be updating lecture slides about the old functions, but I will show students the docs pages when demonstrating how to use the function. Iâ€™ll also link to other trainerâ€™s content that has been updated to the new materials.</p></li>
<li><p><strong>Foster discussion with students about deprecation and new features</strong>.<br>
I will put aside time to discuss with students how to manage deprecated functions, and encourage questions. Iâ€™ll be collecting responses from these sessions will guide the development of a dedicated course on deprecation and avoiding hype-driven R scripting.</p></li>
<li><p><strong>Updating existing online courses.</strong><br>
I would like to update my videos on <code>gather()</code> &amp; <code>spread()</code> in my <a class="affiliate-link" href="https://linkedin-learning.pxf.io/Dmxbn" target="_blank">Tidyverse Overview</a> course on LinkedIn Learning (LiL), but this will likely take several months as I need to negotiate a contract and other stuff with LiL.</p></li>
<li><p><strong>New online courses.</strong><br>
Iâ€™m planning on putting together a short series of videos comparing the new and old functions, but I donâ€™t have a home for these yet. They may or may not end up on LiL, like my existing online courses.</p></li>
</ul>
</div>
<div id="spreads-dead-baby-spreads-dead" class="section level3">
<h3>spread()â€™s dead, baby, spread()`s dead</h3>
<p>I canâ€™t finish this post without <a href="https://twitter.com/hlynur">@hlynnur</a>â€™s excellent tweet:</p>
<center>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
â€œspread()'s dead, baby. spread()'s dead.â€ <a href="https://t.co/BDX4dueMrv">pic.twitter.com/BDX4dueMrv</a>
</p>
â€” Hlynur HallgrÃ­msson (<span class="citation">@hlynur</span>) <a href="https://twitter.com/hlynur/status/1174316420672491527?ref_src=twsrc%5Etfw">September 18, 2019</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
</div>
