<!DOCTYPE html>
<html lang="en-us">

  <head>


    <script src="https://kit.fontawesome.com/f69ee05783.js"></script>



    <meta charset="utf-8">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Shiny Modules for useful controls</title>
    <meta name="author" content="" />

    
    <meta name="keywords" content="devows, hugo, go">
    

    
    <meta name="description" content="Site template made by devcows using hugo">
    

    <meta name="generator" content="Hugo 0.56.0" />

    <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

    
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    
    <link href="../../../../../css/animate.css" rel="stylesheet">

    
    
    <link href="../../../../../css/style.default.css" rel="stylesheet" id="theme-stylesheet">
    


    
    <link href="../../../../../css/custom.css" rel="stylesheet">

    
    
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

    
    <link rel="shortcut icon" href="../../../../../img/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="../../../../../img/apple-touch-icon.png" />
    

    <link href="../../../../../css/owl.carousel.css" rel="stylesheet">
    <link href="../../../../../css/owl.theme.css" rel="stylesheet">

    <link rel="alternate" href="../../../../../index.xml" type="application/rss+xml" title="Visible Data">

    
    <meta property="og:title" content="Shiny Modules for useful controls" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/blog/2019/03/25/2019-03-25-shiny-modules-for-useful-controls//" />
    <meta property="og:image" content="img/logo.png" />

    
    <script src="../../../../../js/backported-popover.js"></script>

</head>

  
  <meta name="twitter:site" content="@martinjhnhadley">
<meta name="twitter:creator" content="@martinjhnhadley">

<meta name="twitter:description" content="Shiny Modules are an “advanced” feature of Shiny apps that developers can use to reduce code duplication, simplify complex inter-relating controls, allow UI elements to be compartmentalised into R packages… and generally be a Shiny magician.
Much of the stuff written about modules gets lost in the weeds. We’re not going to do that here. We’re going to make the Shiny app I’ve embedded below (as an iframe), both with and without modules." />
<meta name="twitter:title" content="Shiny Modules for useful controls" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://www.visibledata.co.uk/" /> 

  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="../../../../../">
                    <img src="../../../../../img/logo.png" alt="Shiny Modules for useful controls logo" class="hidden-xs hidden-sm">
                    <img src="../../../../../img/logo-small.png" alt="Shiny Modules for useful controls logo" class="visible-xs visible-sm">
                    <span class="sr-only">Shiny Modules for useful controls - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  
                  <li class="dropdown">
                    
                    <a href="../../../../../r-timelines/">R Timelines</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Training <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      
                        <li><a href="../../../../../in-person-training/">In-Person Training</a></li>
                      
                        <li><a href="../../../../../online-training/">Online Training</a></li>
                      
                    </ul>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="../../../../../consultancy/">Consultancy</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="../../../../../blog/">Blog</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="../../../../../about/">About</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Shiny Modules for useful controls</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="#">Martin John Hadley</a> | March 25, 2019</p>

                        <div id="post-content">
                          


<p><a href="https://shiny.rstudio.com/articles/modules.html">Shiny Modules</a> are an “advanced” feature of Shiny apps that developers can use to reduce code duplication, simplify complex inter-relating controls, allow UI elements to be compartmentalised into R packages… and generally be a Shiny magician.</p>
<p>Much of the stuff written about modules gets lost in the weeds. We’re not going to do that here. We’re going to make the Shiny app I’ve embedded below (as an iframe), both with and without modules.</p>
<iframe width="100%" height="550px" scrolling="no" frameborder="yes" src="https://visibledata.shinyapps.io/shiny-with-modules_gg_ma_timeseries/">
</iframe>
<p>This app is slightly complicated, but deliberately so. I want to give you a real world example of using Shiny modules.</p>
<p>We’ll go through the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Data import and wrangling</p></li>
<li><p>server.R skeleton</p></li>
<li><p><code>gg_ma_timeseries()</code></p></li>
</ol>
<div id="how-to-follow-along" class="section level2">
<h2>How to follow along</h2>
<p>To follow along you are advised to <strong>create a new RStudio Project</strong> and create the files detailed below in turn.</p>
</div>
<div id="whats-the-app" class="section level2">
<h2>What’s the app?</h2>
<p>The app allows the viewer to interact with data from the <a href="https://ilabour.oii.ox.ac.uk/online-labour-index/">Online Labour Index</a>. This is a project undertaken by the University of Oxford’s Internet Institute to study the online labour market, and ultimately to provide an economic indicator for the gig economy. The data is deposited on Figshare, which means anyone can access (and importantly, cite) the data with the following DOI: <a href="https://doi.org/10.6084/m9.figshare.3761562">10.6084/m9.figshare.3761562</a>.</p>
</div>
<div id="data-import-wrangling-and-stuff" class="section level2">
<h2>Data import, wrangling and stuff</h2>
<p>Let’s completely ignore the details of accessing and wrangling the data. This is a tutorial on Shiny modules.</p>
<p>Create yourself a new script file called <code>data-processing.R</code> and insert this code. Please note that when this script is run it will download a dataset that in early 2019 is 37Mb in size, this will double every 3 years<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<pre class="r"><code>## This code should be inserted into your data-processing.R script
fs_deposit_id &lt;- 3761562
deposit_details &lt;- fs_details(fs_deposit_id)

deposit_details &lt;- unlist(deposit_details$files)
deposit_details &lt;-
  data.frame(split(deposit_details, names(deposit_details)), stringsAsFactors = F)

imported_country_group_data &lt;- deposit_details %&gt;%
  filter(str_detect(name, &quot;bcountrydata_&quot;)) %&gt;%
  pull(download_url) %&gt;%
  read_csv() %&gt;%
  mutate(timestamp = as_date(timestamp)) %&gt;%
  rename(date = timestamp)

gigs_by_country_group &lt;- imported_country_group_data %&gt;%
  group_by(date, country_group) %&gt;%
  summarise(jobs = sum(count)) %&gt;%
  ungroup()

gigs_by_occupation &lt;- imported_country_group_data %&gt;%
  group_by(date, occupation) %&gt;%
  summarise(count = sum(count)) %&gt;%
  rename(jobs = count) %&gt;%
  ungroup()</code></pre>
<p>Please note, we don’t run this code yet. It’s going to be loaded in our <code>server.R</code> file.</p>
</div>
<div id="server.r-skeleton" class="section level2">
<h2>server.R skeleton</h2>
<p>Here’s the skeleton for our <code>server.R</code> file, go ahead and create this on your machine:</p>
<pre class="r"><code>## this is how your server.R file should look
library(&quot;shiny&quot;)
library(&quot;tidyverse&quot;)
library(&quot;rfigshare&quot;)
library(&quot;lubridate&quot;)
library(&quot;xts&quot;)
library(&quot;ggsci&quot;)

source(&quot;data-processing.R&quot;, local = TRUE)

function(input, output, session){
  
  
}</code></pre>
<p>Some things to note about our file:</p>
<ul>
<li><p>We’ve loaded all of the packages needed for the whole app, not just the data wrangling.</p></li>
<li><p>We’ve used <code>source()</code> to run the data wrangling script when the Shiny app loads</p></li>
<li><p>Our shiny server function contains <strong>three</strong> arguments. Many Shiny tutorials ommit the <code>session</code> argument, but it’s integral for Shiny modules to work correctly.</p></li>
</ul>
<p>We’re about to run our script file, but first <strong>register for a Figshare.com account</strong> so you can use the <code>rfigshare</code> package. Now <strong>run this script</strong>.</p>
</div>
<div id="gg_ma_timeseries" class="section level2">
<h2>gg_ma_timeseries</h2>
<p>Let’s assume for a minute that the dataviz we’re creating here is important enough that we might want to use it in other places than just this Shiny app. The easiest way to support this is by placing the script for the dataviz in its own file.</p>
<p>Create a new file called <code>gg_ma_timeseries.R</code> and add the following code, we’ll walk through the potentially mysterious <code>enquo</code> part of the functions in two minutes.</p>
<pre class="r"><code>## this is how your gg_ma_timeseries.R file should look
gg_ma_timeseries &lt;- function(.data, date, value, category) {
  date &lt;- enquo(date)
  
  value &lt;- enquo(value)
  
  category &lt;- enquo(category)
  
  n_colours &lt;- .data %&gt;%
    pull(!!category) %&gt;%
    unique() %&gt;%
    length()
  
  colours_from_startrek &lt;- colorRampPalette(pal_startrek(palette = c(&quot;uniform&quot;))(7))(n_colours)
  
  
  .data %&gt;%
    ggplot(aes(
      x = !!date,
      y = !!value,
      color = !!category
    )) +
    geom_line() +
    theme_bw() +
    scale_color_manual(values = colours_from_startrek) +
    scale_x_date(expand = c(0.01, 0.01)) +
    scale_y_continuous(expand = c(0.01, 0)) +
    labs(
      title = &quot;Example dataviz of Online Labour Index data&quot;,
      subtitle = &quot;DOI:10.6084/m9.figshare.376156&quot;)
}

ma_job_count &lt;- function(.data, date, value, category, window_width){
  
  date &lt;- enquo(date)
  
  value &lt;- enquo(value)
  
  category &lt;- enquo(category)
  
  window_width &lt;- as.numeric(window_width)
  
  .data %&gt;%
    group_by(!!category) %&gt;%
    arrange(!!date) %&gt;%
    mutate(!!value := rollmean(!!value,
                           k = window_width,
                           na.pad = TRUE,
                           align = &quot;right&quot;
    )) %&gt;%
    filter(!is.na(!!value)) %&gt;%
    ungroup()
  
}</code></pre>
<ul>
<li><p><code>gg_ma_timeseries()</code> is the function which creates our <code>ggplot2</code> timeseries dataviz</p></li>
<li><p><code>ma_job_count()</code> is a little utility function for smoothing the data with <code>xts::rollmean()</code>.</p></li>
</ul>
<p>Let’s load this file in our <code>server.R</code> script, so the file now has all of the code in it from before. <strong>Run this entire script</strong>.</p>
<pre class="r"><code>## this is how your server.R file should look
library(&quot;shiny&quot;)
library(&quot;tidyverse&quot;)
library(&quot;rfigshare&quot;)
library(&quot;lubridate&quot;)
library(&quot;xts&quot;)
library(&quot;ggsci&quot;)

source(&quot;data-processing.R&quot;, local = TRUE)

source(&quot;gg_ma_timeseries.R&quot;, local = TRUE)

function(input, output, session){
  
  
}</code></pre>
<p>I want to prove to you that this works. Create a new script file <code>scratch-pad.R</code> where we can experiment and play. Add the following code, and then <strong>run the script</strong>.</p>
<pre class="r"><code>## this is how your scratch-pad.R file should look
gigs_by_occupation %&gt;%
  ma_job_count(date, jobs, occupation, 28) %&gt;%
  gg_ma_timeseries(date, jobs, occupation)</code></pre>
<p><img src="../../../../../blog/2019-03-25-shiny-modules-for-useful-controls_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Notice how the column names <code>jobs</code>, <code>occupation</code> and <code>date</code> have been given to <code>gg_ma_timeseries</code> without quotation marks? This is exactly the same as how we use functions from <code>dplyr</code>, e.g. <code>iris %&gt;% mutate(species = toupper(species))</code>. These are what we call <strong>naked column names</strong>.</p>
<p>That’s why the functions use <code>enquo()</code> internally, it’s implementing non-standard evaluation with <a href="https://tidyeval.tidyverse.org">tidyeval</a>. However, there’s zero need to understand this now (if you don’t want to). This is a Shiny module tutorial, so let’s move on to the <code>ui.R</code> file.</p>
</div>
<div id="ui.r-skeleton" class="section level2">
<h2>ui.R skeleton</h2>
<p>Here’s the skeleton for our <code>ui.R</code> file, go ahead and create this on your machine:</p>
<pre class="r"><code>## this is how your ui.R file should look
library(&quot;shiny&quot;)
library(&quot;shinycustomloader&quot;)
shinyServer(navbarPage(
  &quot;Shiny Modules&quot;,
  tabPanel(
    &quot;By occupation&quot;,
    fluidPage()
  ),
  tabPanel(
    &quot;By country&quot;,
    fluidPage()
  )
))</code></pre>
</div>
<div id="shiny-app-without-modules" class="section level2">
<h2>Shiny app without modules</h2>
<p>A complete copy of this Shiny app that doesn’t use modules is available on Github here: <a href="https://github.com/martinjhnhadley/training_shiny-module/tree/master/gg_ma_timeseries/shiny-without-modules">https://github.com/martinjhnhadley/training_shiny-module/tree/master/gg_ma_timeseries/shiny-without-modules</a>.</p>
<p>There’s a tremendous amount of duplication in the <code>ui.R</code> file to get the <code>radioButtons()</code> to look how I want them to. We need to use Shiny modules to simplify this, which we’ll do in the section below.</p>
<pre class="r"><code>## DO NOT COPY THIS CODE.
## This is how the ui.R file looks without using modules.
library(&quot;shiny&quot;)
library(&quot;shinycustomloader&quot;)

shinyServer(navbarPage(
  &quot;Shiny without Modules&quot;,
  tabPanel(
    &quot;By occupation&quot;,
    fluidPage(fluidRow(column(
      radioButtons(
        &quot;by_occupation_landing_rollmean_k&quot;,
        label = &quot;&quot;,
        choices = list(
          &quot;Show daily value&quot; = 1,
          &quot;Show 28-day moving average&quot; = 28
        ),
        selected = 28,
        inline = TRUE
      ),
      width = 12
    )),
    withLoader(plotOutput(&quot;gg_gigs_by_occupation&quot;)),
    type = &quot;html&quot;, loader = &quot;dnaspin&quot;
    )
  ),
  tabPanel(
    &quot;By country&quot;,
    fluidPage(fluidRow(column(
      radioButtons(
        &quot;by_country_group_landing_rollmean_k&quot;,
        label = &quot;&quot;,
        choices = list(
          &quot;Show daily value&quot; = 1,
          &quot;Show 28-day moving average&quot; = 28
        ),
        selected = 28,
        inline = TRUE
      ),
      width = 12
    )),
    withLoader(plotOutput(&quot;gg_gigs_by_country_group&quot;)),
    type = &quot;html&quot;, loader = &quot;dnaspin&quot;
    )
  )
))</code></pre>
<p>The <code>server.R</code> file is fairly tidy because we’ve already abstracted a lot of the app into functions:</p>
<pre class="r"><code>## DO NOT COPY THIS CODE.
## This is how the server.R file looks without using modules.
library(&quot;shiny&quot;)
library(&quot;tidyverse&quot;)
library(&quot;rfigshare&quot;)
library(&quot;lubridate&quot;)
library(&quot;xts&quot;)
library(&quot;ggsci&quot;)

source(&quot;data-processing.R&quot;, local = TRUE)

source(&quot;gg_ma_timeseries.R&quot;, local = TRUE)

function(input, output, session) {
  output$gg_gigs_by_occupation &lt;- renderPlot({
    
    gigs_by_occupation %&gt;%
      ma_job_count(date, jobs, occupation, input$by_occupation_landing_rollmean_k) %&gt;%
      gg_ma_timeseries(date, jobs, occupation)
    
  })

  output$gg_gigs_by_country_group &lt;- renderPlot({
    
    gigs_by_country_group %&gt;%
      ma_job_count(date, jobs, country_group, input$by_country_group_landing_rollmean_k) %&gt;%
      gg_ma_timeseries(date, jobs, country_group)
    
  })
}</code></pre>
</div>
<div id="introducing-the-shiny-module" class="section level2">
<h2>Introducing the Shiny Module</h2>
<p>The Shiny Module is composed of two components:</p>
<ul>
<li><code>gg_ma_timeseries_input()</code> creates an instance of our controls.</li>
<li><code>gg_ma_timeseries_output()</code> creates an instance of the chart, which is dependent on a set of controls (specified in the server.R file).</li>
</ul>
<center>
<img src="../../../../../blog/2019-03-25-shiny-modules-for-useful-controls_files/the-whole-module.png" width="450" />
</center>
<p>It’s crucial that we place the code for these elements of the module in the correct place:</p>
<center>
<img src="../../../../../blog/2019-03-25-shiny-modules-for-useful-controls_files/where-things-live.png" width="450" />
</center>
<div id="rules-for-modules" class="section level3">
<h3>Rules for modules</h3>
<p>This is one of the things left out of the other Shiny module tutorials I’ve read. Most tutorials deal with a toy example and don’t split the code into distinct <code>ui.R</code> and <code>server.R</code> files. Let’s establish some hard and fast rules about modules:</p>
<ul>
<li><p>Place your module code in a subfolder called <code>/modules</code>.</p></li>
<li><p>Code for inputs (controls) must be sourced in the <code>ui.R</code> file.</p></li>
<li><p>Code for outputs (charts) must be sourced in the <code>server.R</code> file.</p></li>
</ul>
</div>
</div>
<div id="namespaces-with-ns" class="section level2">
<h2>Namespaces with <code>NS</code></h2>
<p>Remember our <code>server.R</code> function?</p>
<pre class="r"><code>server &lt;- function(input, output, session){
  
}</code></pre>
<p>Inside of our modules we need to manipulate values from both the <code>input</code> and <code>output</code> objects. In programming speak, we need to be careful about namespaces. In Shiny, this means we need to use the <code>NS()</code> function to guarantee we’re refering to the values we think we’re refering to. Let’s create the control for our modules, in a new script file: <code>/modules/client-side_gg-ma-timeseries.R</code>.</p>
<pre class="r"><code>## This is how your /modules/client-side_gg-ma-timeseries.R file should look
gg_ma_timeseries_input &lt;- function(id) {
  ns &lt;- NS(id)
  tagList(
    &quot;This entire tab is a shiny module, including; this text, the radio buttons and the chart.&quot;,
    fluidRow(column(
      radioButtons(
        ns(&quot;landing_rollmean_k&quot;),
        label = &quot;&quot;,
        choices = list(
          &quot;Show daily value&quot; = 1,
          &quot;Show 28-day moving average&quot; = 28
        ),
        selected = 28,
        inline = TRUE
      ),
      width = 12
    ))
  )
}</code></pre>
<p>Things to take away from the <code>gg_ma_timeseries_input()</code> function:</p>
<ul>
<li><p><code>ns &lt;- NS(id)</code> ensures we’re refering to values from the server <code>input</code> object</p></li>
<li><p><code>ns(&quot;landing_rollmean_k&quot;)</code> translates to <code>input$landing_rollmean_k</code></p></li>
<li><p>If returning <strong>multiple ui elements</strong> they must be contained within <code>tagList()</code>… <em>but</em> it’s a great idea to use <code>tagList()</code> by default, it will prevent mishaps.</p></li>
</ul>
<p>That’s our control. We need to create our output function that will display the chart rendered by the server, which we’ll call <code>gg_ma_timeseries_output()</code>. It takes a while to download and display the data in our chart, so it’s a good idea to use the excellent [<code>shinycustomloader</code>] package to show an animated “loading” GIF to the user. Please update your <code>/modules/client-side_gg-ma-timeseries.R</code> file so it looks like this:</p>
<pre class="r"><code>## This is how your /modules/client-side_gg-ma-timeseries.R file should look
library(&quot;shinycustomloader&quot;)

gg_ma_timeseries_input &lt;- function(id) {
  ns &lt;- NS(id)
  tagList(
    &quot;This entire tab is a shiny module, including; this text, the radio buttons and the chart.&quot;,
    fluidRow(column(
      radioButtons(
        ns(&quot;landing_rollmean_k&quot;),
        label = &quot;&quot;,
        choices = list(
          &quot;Show daily value&quot; = 1,
          &quot;Show 28-day moving average&quot; = 28
        ),
        selected = 28,
        inline = TRUE
      ),
      width = 12
    ))
  )
}

gg_ma_timeseries_output &lt;- function(id) {
  ns &lt;- NS(id)
  withLoader(plotOutput(ns(&quot;ma_plot&quot;)), type = &quot;html&quot;, loader = &quot;dnaspin&quot;)
}</code></pre>
<p>Our output function is more complex than our input, because <code>ns(&quot;ma_plot&quot;)</code> refers to an instace of <code>output$ma_plot</code> from the Shiny module, which we haven’t created yet</p>
<p>The trick to how <code>NS()</code> works inside of <code>gg_ma_timeseries_output()</code> is more complicated than our input function, and is explained in the section below. However, let’s</p>
<pre class="r"><code>## This is how your ui.R file should look
library(&quot;shiny&quot;)

source(&quot;modules/client-side_gg-ma-timeseries.R&quot;, local = TRUE)

shinyServer(navbarPage(
  &quot;Shiny Modules&quot;,
  tabPanel(
    &quot;By occupation&quot;,
    fluidPage(
      gg_ma_timeseries_input(&quot;occupation_controls&quot;),
      gg_ma_timeseries_output(&quot;occupation_chart&quot;)
    )
  ),
  tabPanel(
    &quot;By country&quot;,
    fluidPage(
      gg_ma_timeseries_input(&quot;by_country_controls&quot;),
      gg_ma_timeseries_output(&quot;by_country_chart&quot;)
    )
  )
))</code></pre>
<ul>
<li><p>We’re going to be extracting</p></li>
<li><p><code>ns &lt;- NS(id)</code> ensures we’re</p></li>
<li><p><code>ns(&quot;ma_plot&quot;)</code></p></li>
</ul>
</div>
<div id="things-they-dont-tell-you" class="section level2">
<h2>Things they don’t tell you</h2>
<ul>
<li><p>Load the ui in the ui.R file</p></li>
<li><p>Delete the scratch-pad.R file</p></li>
</ul>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1">I was interested in how important file size warnings are in tutorials, I was surprised that most folks wanted a warning for files bigger than 10Mb
<blockquote class="twitter-tweet" data-lang="en">
<p lang="en" dir="ltr">
Imagine you're following an R tutorial that includes<br><br>read_csv(&quot;<a href="http://online_csv%22" class="uri">http://online_csv&quot;</a>;)<br><br>How large would that csv need to be before you'd want a warning written into the tutorial?
</p>
— Martin John Hadley (<span class="citation">@martinjhnhadley</span>) <a href="https://twitter.com/martinjhnhadley/status/1110203236177334278?ref_src=twsrc%5Etfw">March 25, 2019</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<a href="#fnref1" class="footnote-back">↩</a></li>
</ol>
</div>

                        </div>
                        
                        
                        <div id="comments">
                            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "visibledata-co-uk" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="../../../../../categories/data-scraping">data-scraping (1)</a>
            </li>
            
            <li><a href="../../../../../categories/dataviz">dataviz (5)</a>
            </li>
            
            <li><a href="../../../../../categories/gis">gis (1)</a>
            </li>
            
            <li><a href="../../../../../categories/meta">meta (6)</a>
            </li>
            
            <li><a href="../../../../../categories/r">r (8)</a>
            </li>
            
            <li><a href="../../../../../categories/reproducibility">reproducibility (1)</a>
            </li>
            
            <li><a href="../../../../../categories/shiny">shiny (2)</a>
            </li>
            
            <li><a href="../../../../../categories/workflow">workflow (1)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="../../../../../tags/dataviz"><i class="fa fa-tags"></i> dataviz</a>
            </li>
            
            <li><a href="../../../../../tags/fun"><i class="fa fa-tags"></i> fun</a>
            </li>
            
            <li><a href="../../../../../tags/gis"><i class="fa fa-tags"></i> gis</a>
            </li>
            
            <li><a href="../../../../../tags/htmlwidgets"><i class="fa fa-tags"></i> htmlwidgets</a>
            </li>
            
            <li><a href="../../../../../tags/list-columns"><i class="fa fa-tags"></i> list-columns</a>
            </li>
            
            <li><a href="../../../../../tags/meta"><i class="fa fa-tags"></i> meta</a>
            </li>
            
            <li><a href="../../../../../tags/parallel-programming"><i class="fa fa-tags"></i> parallel-programming</a>
            </li>
            
            <li><a href="../../../../../tags/r"><i class="fa fa-tags"></i> r</a>
            </li>
            
            <li><a href="../../../../../tags/regular-expressions"><i class="fa fa-tags"></i> regular-expressions</a>
            </li>
            
            <li><a href="../../../../../tags/rmdnews"><i class="fa fa-tags"></i> rmdnews</a>
            </li>
            
            <li><a href="../../../../../tags/shiny"><i class="fa fa-tags"></i> shiny</a>
            </li>
            
            <li><a href="../../../../../tags/shiny-modules"><i class="fa fa-tags"></i> shiny-modules</a>
            </li>
            
            <li><a href="../../../../../tags/stringr"><i class="fa fa-tags"></i> stringr</a>
            </li>
            
            <li><a href="../../../../../tags/teaching"><i class="fa fa-tags"></i> teaching</a>
            </li>
            
            <li><a href="../../../../../tags/web-scraping"><i class="fa fa-tags"></i> web-scraping</a>
            </li>
            
            <li><a href="../../../../../tags/workflow"><i class="fa fa-tags"></i> workflow</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1006724,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

<footer id="footer">
    <div class="container">
      
      
  <div id="disqus_thread"></div>
<script>
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://visibledata-co-uk.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        
        <div class="col-md-4 col-sm-6">
            <h4>About us</h4>

            Visible Data is a consultancy and technical training company focusing on data science, data visualisation and reproducibility based in Oxford, UK.

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>Recent posts</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="../../../../../blog/">
                          
                            <img src="../../../../../img/placeholder.png" class="img-responsive" alt="Blogs">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="../../../../../blog/">Blogs</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="../../../../../blog/2019/12/01/2019-12-01_draft_advent-calendar-bookdown/">
                          
                            <img src="../../../../../img/placeholder.png" class="img-responsive" alt="XXX Advent Calendar (BOOKDOWN)">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="../../../../../blog/2019/12/01/2019-12-01_draft_advent-calendar-bookdown/">XXX Advent Calendar (BOOKDOWN)</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="../../../../../blog/2019/07/09/2019-07-09-shiny-modules-to-reduce-duplication-in-apps/">
                          
                            <img src="../../../../../img/placeholder.png" class="img-responsive" alt="Shiny modules to reduce duplication in apps">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="../../../../../blog/2019/07/09/2019-07-09-shiny-modules-to-reduce-duplication-in-apps/">Shiny modules to reduce duplication in apps</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2016 - 2018, Visible Data Ltd; all rights reserved.</p>
            
            <p class="pull-right">
              Template by <a href="http://bootstrapious.com/free-templates">Bootstrapious</a>.
              

              Ported to Hugo by <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-129199947-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script src="../../../../../js/hpneo.gmaps.js"></script>
<script src="../../../../../js/gmaps.init.js"></script>
<script src="../../../../../js/front.js"></script>


<script src="../../../../../js/owl.carousel.min.js"></script>


  </body>
</html>
